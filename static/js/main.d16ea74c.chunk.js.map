{"version":3,"sources":["Components/Searchbar/Searchbar.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Modal/Modal.jsx","Components/Button/Button.jsx","App.jsx","Components/services/Api.jsx","index.js"],"names":["Searchbar","state","searchQuery","handleNameChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","Notiflix","Notify","failure","props","onSubmit","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","image","onClickImage","src","webformatURL","alt","tags","onClick","ImageGallery","onLargeImage","map","console","log","largeImageURL","id","modalRoot","document","querySelector","Modal","handleKeyDown","code","onCloseModal","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","children","Button","onClickBtn","App","page","loading","images","totalHits","largeImageUrl","hits","handleFormSubmit","handleLargeImage","imgUrl","toggleModal","incrementPage","prevState","prevProps","query","prevQuery","nextQuery","prevPage","nextPage","prevImages","fetch","then","response","ok","json","Promise","reject","Error","respons","catch","error","finally","scrollTo","top","documentElement","scrollHeight","behavior","color","height","width","length","url","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d16ea74c.chunk.js","sourcesContent":["import { Component } from 'react';\r\nimport Notiflix from 'notiflix';\r\n// import { toast } from 'react-toastify';\r\n// import {ImSearch} from 'react-icons/im';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    searchQuery: '',\r\n  };\r\n\r\n  handleNameChange = e => {\r\n    this.setState({ searchQuery: e.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    if (this.state.searchQuery.trim() === '') {\r\n      Notiflix.Notify.failure('Please, enter your query!');\r\n      // alert('Please, enter your query!');\r\n    }\r\n\r\n    this.props.onSubmit(this.state.searchQuery);\r\n    this.setState({ searchQuery: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form onSubmit={this.handleSubmit} className=\"SearchForm\">\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            {/* <ImSearch style={{ margineRight: 8 }} /> */}\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleNameChange}\r\n            value={this.state.searchQuery}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nexport default Searchbar;\r\n","import PropTypes from 'prop-types';\r\n\r\nfunction ImageGalleryItem({ image, onClickImage }) {\r\n  return (\r\n    <li className=\"ImageGalleryItem\">\r\n      <img\r\n        src={image.webformatURL}\r\n        alt={image.tags}\r\n        onClick={onClickImage}\r\n        className=\"ImageGalleryItem-image\"\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  onClickImage: PropTypes.func,\r\n  image: PropTypes.object,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import { Component } from 'react';\r\nimport ImageGalleryItem from 'Components/ImageGalleryItem';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nclass ImageGallery extends Component {\r\n  render() {\r\n    const { searchQuery, onLargeImage } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <ul className=\"ImageGallery\">\r\n          {searchQuery.map(image => {\r\n            console.log(image);\r\n            console.log(image.largeImageURL);\r\n\r\n            const onSelectLargeImg = () => onLargeImage(image.largeImageURL);\r\n\r\n            return (\r\n              <ImageGalleryItem key={image.id} image={image} onClickImage={onSelectLargeImg} />\r\n            );\r\n          })}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  onLargeImage: PropTypes.func,\r\n  images: PropTypes.array,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\r\n        <div className=\"Modal\">{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onCloseModal: PropTypes.func,\r\n  url: PropTypes.string,\r\n};\r\n\r\nexport default Modal;\r\n","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Button extends Component {\r\n  render() {\r\n    const { onClickBtn } = this.props;\r\n    return (\r\n      <div className=\"BtnContainer\">\r\n        <button type=\"button\" className=\"Button\" onClick={onClickBtn}>\r\n          Load more\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nButton.propTypes = {\r\n  onClickBtn: PropTypes.func,\r\n  page: PropTypes.number,\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from 'react';\n// import { ToastContainer } from 'react-toastify';\n// import { v4 as uuidv4 } from 'uuid';\nimport Searchbar from 'Components/Searchbar';\nimport { fetchImages } from 'Components/services/Api';\nimport Notiflix from 'notiflix';\nimport ImageGallery from 'Components/ImageGallery';\nimport Modal from 'Components/Modal';\nimport Button from 'Components/Button/Button';\nimport Loader from 'react-loader-spinner';\n\nexport default class App extends Component {\n  state = {\n    searchQuery: '',\n    page: 1,\n    loading: false,\n    images: [],\n    totalHits: 0,\n    largeImageUrl: null,\n    hits: 12,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.searchQuery;\n    const nextQuery = this.state.searchQuery;\n    const prevPage = prevState.page;\n    const nextPage = this.state.page;\n    const prevImages = prevState.images;\n\n    if (prevQuery !== nextQuery || prevPage !== nextPage) {\n      this.setState({ loading: true });\n\n      fetchImages(nextQuery, nextPage)\n        .then(respons => {\n          // console.log(respons);\n          const { totalHits, hits } = respons;\n\n          if (nextPage === 1) {\n            this.setState({\n              images: [...hits],\n              totalHits,\n              loading: false,\n            });\n            // console.log(totalHits);\n            // console.log(hits);\n          } else {\n            this.setState({\n              images: [...prevImages, ...hits],\n              totalHits,\n              page: nextPage,\n              loading: false,\n            });\n          }\n\n          if (totalHits === 0) {\n            Notiflix.Notify.failure('Please, enter your query!');\n          }\n        })\n        .catch(error => console.log(error))\n        .finally(() => {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        });\n    }\n  }\n\n  handleFormSubmit = searchQuery => {\n    this.setState({ searchQuery, page: 1 });\n  };\n\n  handleLargeImage = imgUrl => {\n    this.setState({ largeImageUrl: imgUrl });\n  };\n\n  toggleModal = () => {\n    this.setState(({ largeImageUrl }) => ({\n      largeImageUrl: !largeImageUrl,\n    }));\n  };\n\n  incrementPage = () => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  render() {\n    const { images, largeImageUrl, searchQuery, page, loading } = this.state;\n\n    return (\n      <div>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery searchQuery={images} onLargeImage={this.handleLargeImage} />\n\n        {loading && <Loader type=\"Circles\" color=\"#00BFFF\" height={80} width={80} />}\n\n        {images.length > 0 && (\n          <Button type=\"button\" className=\"Button\" onClickBtn={this.incrementPage} page={page} />\n        )}\n        {largeImageUrl && (\n          <Modal url={this.state.largeImageUrl} onCloseModal={this.toggleModal}>\n            <img src={largeImageUrl} alt={searchQuery} />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n","export function fetchImages(query, page) {\r\n  const BASE_URL = 'pixabay.com/api/';\r\n  const KEY = '22661367-29e263943b27fbc7c6f830e79';\r\n\r\n  return fetch(\r\n    `https://${BASE_URL}?q=${query}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  ).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return Promise.reject(new Error(`Error with ${query}`));\r\n  });\r\n}\r\n\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render( <\n    React.StrictMode >\n    <\n    App / >\n    <\n    /React.StrictMode>,\n    document.getElementById('root'),\n);"],"sourceRoot":""}